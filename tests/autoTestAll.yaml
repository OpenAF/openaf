include:
   - oJobTest.yaml
   - autoTestAll.Generic.yaml
   - autoTestAll.Channels.yaml
   - autoTestAll.oDoc.yaml

ojob:
   sequential: true
   channels:
     expose : true
     port   : 17878
     log    : true
   list:
     oJob::log
     oJob::jobs
     oJob::todo
     oJob::oJob
     __owTest::tests


jobs:
   # FINAL TEST RESULTS
   # ------------------
   - name: Results
     from: oJob Test Results
     args: 
       quiet: true
     exec: >
       tprint("Tests PASSED: {{pass}}/{{count}}", args.results);
       tprint("Tests FAILED: {{fail}}/{{count}}", args.results);
       if (args.results.fail > 0) throw "There are failed tests";

   - name: JUnit results
     to  : oJob Generate JUnit XML
     exec: >
       args.suitesName  = "Automatic OpenAF build test";
       args.resultsFile = "autoTestAllResults.xml";
       args.suitesId    = af.getVersion();

todo:
   # Generic Tests
   # -------------
   - OpenAF::Get version
   - OpenAF::Prints
   - OpenAF::SPrints
   - OpenAF::Logs
   
   # oDoc Tests
   # ----------
   - oDoc::Test access to oDoc

   # Channels tests
   # --------------
   
   # Big
   - name: Channels::Creating a channel
     args:
       chType: big
   - Channels::Setting data into a channel
   - Channels::Destroy a channel 
   - Channels::Test housekeeping

   # Ignite
   #- name: Channels::Creating a channel
   #  args:
   #    chType: ignite
   #- Channels::Setting data into a channel
   #- Channels::Destroy a channel
   
   # Final results
   # -------------
   - Results
   - JUnit results
